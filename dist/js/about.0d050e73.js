(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"0333":function(t,i,r){},"03d2":function(t,i,r){"use strict";r.r(i);r("a573");var s=function(){var t=this,i=t._self._c;return i("div",{attrs:{id:"stairs"}},[i("div",{staticClass:"setting"},[i("div",{staticClass:"set-box col-2"},[i("span",[t._v("幾條路：")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.straight,expression:"straight"}],on:{change:function(i){var r=Array.prototype.filter.call(i.target.options,(function(t){return t.selected})).map((function(t){var i="_value"in t?t._value:t.value;return i}));t.straight=i.target.multiple?r:r[0]}}},t._l(t.straights,(function(r){return i("option",{key:r.name,domProps:{value:r.name}},[t._v(t._s(r.value))])})),0)]),i("div",{staticClass:"set-box col-2"},[i("span",[t._v("幾個橫軸：")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.horizontal,expression:"horizontal"}],on:{change:function(i){var r=Array.prototype.filter.call(i.target.options,(function(t){return t.selected})).map((function(t){var i="_value"in t?t._value:t.value;return i}));t.horizontal=i.target.multiple?r:r[0]}}},t._l(t.horizontals,(function(r){return i("option",{key:r.name,domProps:{value:r.name}},[t._v(t._s(r.value))])})),0)]),i("button",{attrs:{type:"submit"},on:{click:t.createStairs}},[t._v("生成梯子")])]),i("br"),i("div",{ref:"stairsBox",staticClass:"stairs-box"})])},a=[],e=(r("14d9"),r("0643"),r("4e3e"),r("2f62")),o=r("22a2");function n(t,i=0,r=0){const s=new o["Sprite"](t);return s.position.set(i,r),s}var l={data(){return{app:null,loader:new this.PIXI.Loader,resources:null,stairs_container:null,road_container:null,start_doll_container:null,grey_filter:null,road:null,roadSetUp:()=>{},app_width:900,app_height:600,boundary:{min_x:100,min_y:50,max_x:800,max_y:550},stairs_style:{width:15,color:12085057,alpha:1},road_style:{width:20,alignment:.5,color:4763559,alpha:1,join:"round",miterLimit:100},road_position:[],straights:[],straight:3,straight_position:[],horizontals:[],horizontal:8,horizontal_position:[],start_doll_name:["eggHead","flowerTop","helmlok","skully"],is_start_doll_click:!1,start_doll_sprite:[]}},mounted(){this.init()},watch:{straight:{handler(t){this.horizontals=[];for(let i=t-1;i<=t+3;i++)this.horizontals.push({value:i,name:i});this.horizontal=this.horizontals[2].name},immediate:!0},is_start_doll_click(t){this.start_doll_sprite.forEach(i=>{let r=[];i.interactive=t,t||(r=[this.grey_filter]),i.filters=r})}},computed:{...Object(e["b"])({image_path:t=>t.image_path})},methods:{init(){this.straights=[];for(let t=3;t<=5;t++)this.straights.push({value:t+" 列",name:t});this.app=new this.PIXI.Application({width:this.app_width,height:this.app_height,backgroundColor:16249578}),this.grey_filter=new this.PIXI.filters.ColorMatrixFilter,this.grey_filter.greyscale(.2),this.stairs_container=new this.PIXI.Container,this.road_container=new this.PIXI.Container,this.start_doll_container=new this.PIXI.Container,this.app.stage.addChild(this.stairs_container,this.road_container,this.start_doll_container),this.$refs.stairsBox.appendChild(this.app.view),this.resources=this.loader.resources,this.loader.add("eggHead",this.image_path+"assets/doll/eggHead.png").add("flowerTop",this.image_path+"assets/doll/flowerTop.png").add("helmlok",this.image_path+"assets/doll/helmlok.png").add("skully",this.image_path+"assets/doll/skully.png"),this.loader.load(()=>{this.createStairs()})},createStairs(){this.app.ticker.remove(this.roadSetUp),this.horizontal_position=[],this.stairs_container.removeChildren(),this.road_container.removeChildren(),this.start_doll_container.removeChildren(),this.start_doll_sprite.forEach(t=>t.destroyed),this.start_doll_sprite=[];const{min_x:t,min_y:i,max_y:r}=this.boundary,s=Math.ceil((this.app_width-2*t)/(this.straight-1));this.straight_position=[];let a=[];for(let e=0;e<this.straight;e++){const a=t+s*e;this.initStartSprite(e,a),this.straight_position.push({x:a,y:i});const o=new this.PIXI.Graphics;o.lineStyle(this.stairs_style),o.moveTo(a,i),o.lineTo(a,r),this.stairs_container.addChild(o)}for(let e=0;e<this.horizontal;e++){const t=e<this.straight-1?e:Math.floor(Math.random()*(this.straight-1)),r=this.straight_position[t].x,o=t>0&&this.straight_position[t-1].x||null,n=this.straight_position[t+1].x||null;let l;const c=()=>{l=Math.ceil(i+50+400*Math.random());for(let t=0;t<a.length;t++){const{x:i,y:s}=a[t];if([r,o,n].includes(i)&&l>=s-50&&l<=s+50){c();break}}};c();const h={x:r,y:l},d=new this.PIXI.Graphics;d.lineStyle(this.stairs_style),d.moveTo(h.x,h.y),d.lineTo(s+h.x,h.y),a.push({x:h.x,y:h.y}),this.stairs_container.addChild(d)}this.horizontal_position=a.sort((t,i)=>t.y-i.y),this.is_start_doll_click=!0},initStartSprite(t,i){const r=this.start_doll_name[t%4],s=n(this.resources[r].texture,i,0);s.anchor.set(.5,0),s.scale.set(.4,.4),s.cursor="pointer",s.on("pointerdown",e);const a=this;function e(){a.getRoadPosition(t)}this.start_doll_sprite.push(s),s.interactive=!0,this.start_doll_container.addChild(s)},getRoadPosition(t){this.is_start_doll_click=!1,this.road_container.removeChildren();let i=t;this.road_position=[];let{x:r,y:s}=this.straight_position[i];this.road_position.push({x:r,y:s}),this.horizontal_position.forEach(({x:t,y:a})=>{const e=0===i?null:this.straight_position[i-1].x;a>s&&[e,r].includes(t)&&(this.road_position.push({x:r,y:a}),t===r?i+=1:t===e&&(i-=1),this.road_position.push({x:this.straight_position[i].x,y:a}),r=this.straight_position[i].x)}),this.road_position.push({x:r,y:this.boundary.max_y}),this.drawRoad()},drawRoad(){this.road=new this.PIXI.Graphics,this.road.lineStyle(this.road_style);let t=0,i=this.road_position[t].x,r=this.road_position[t].y,s=i,a=r;this.roadSetUp=e=>{const o=10*e,n=i;if(this.road.moveTo(i,r),s===this.road_position[t].x&&a===this.road_position[t].y&&(i=this.road_position[t].x,r=this.road_position[t].y,t++),t>=this.road_position.length)return this.app.ticker.remove(this.roadSetUp),void(this.is_start_doll_click=!0);const{x:l,y:c}=this.road_position[t];this.road.lineTo(s,a),n<l?(s+=o,s>l&&(s=l)):n>l?(s-=o,s<l&&(s=l)):n===l&&a===c&&(s=l),a+o>=c?a=c:a+=o,this.road.lineTo(s,a)},this.app.ticker.add(this.roadSetUp),this.road.endFill(),this.road_container.addChild(this.road)}}},c=l,h=(r("8c89"),r("2877")),d=Object(h["a"])(c,s,a,!1,null,"333e6c90",null);i["default"]=d.exports},"277a":function(t,i,r){"use strict";r.r(i);var s=function(){var t=this,i=t._self._c;return i("div",{staticClass:"pinball"})},a=[],e=r("2877"),o={},n=Object(e["a"])(o,s,a,!1,null,null,null);i["default"]=n.exports},4754:function(t,i,r){"use strict";t.exports=function(t,i){return{value:t,done:i}}},"4e3e":function(t,i,r){"use strict";r("7d54")},"67c2":function(t,i,r){"use strict";r.r(i);r("a573");var s=function(){var t=this,i=t._self._c;return i("div",{attrs:{id:"flop-cards"}},[i("div",{staticClass:"setting"},[i("div",{staticClass:"set-box col-2"},[i("span",[t._v("幾組牌：")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.card,expression:"card"}],on:{change:function(i){var r=Array.prototype.filter.call(i.target.options,(function(t){return t.selected})).map((function(t){var i="_value"in t?t._value:t.value;return i}));t.card=i.target.multiple?r:r[0]}}},t._l(t.select_cards,(function(r){return i("option",{key:r.value,domProps:{value:r.value}},[t._v(t._s(r.name))])})),0)]),i("button",{attrs:{type:"submit"},on:{click:t.createFlopCards}},[t._v("生成牌組")])]),i("br"),i("div",{staticClass:"flop-cards-box"},t._l(t.cards,(function(r){return i("div",{key:r.id,staticClass:"card-box",on:{click:function(i){return t.cardTurnOn(r)}}},[i("div",{staticClass:"front",class:{turn:r.turn,show:!r.show}},[t._v(t._s(r.value))]),i("div",{staticClass:"back",class:{turn:r.turn,show:!r.show}})])})),0)])},a=[];r("14d9"),r("0643"),r("76d6"),r("4e3e");function e(t){return new Promise(i=>setTimeout(i,t))}var o={data(){return{card:3,select_cards:[],cards:[],turn_card:[],timer:null,is_click:!0}},mounted(){for(let t=3;t<16;t++)this.select_cards.push({value:t,name:t+" 副牌"});this.createFlopCards()},methods:{createFlopCards(){this.cards=[];for(let t=0;t<this.card;t++)for(let i=0;i<2;i++){const i={value:t,turn:!1,show:!0};this.cards.push(i)}this.cards.sort(()=>Math.random()-.5),this.cards=this.cards.map((t,i)=>({...t,id:i}))},async cardTurnOn(t){this.is_click&&(this.turn_card[0]&&t.id===this.turn_card[0].id||(this.is_click=!1,t.turn=!0,this.turn_card.push(t),2===this.turn_card.length?(this.turn_card.every(i=>i.value===t.value)?(await e(1500),this.turn_card.forEach(({id:t})=>this.cards[t].show=!1)):(await e(1500),this.cards.forEach(t=>t.turn=!1)),this.turn_card=[],this.is_click=!0):this.is_click=!0))}}},n=o,l=(r("d444"),r("2877")),c=Object(l["a"])(n,s,a,!1,null,"1de6b9e2",null);i["default"]=c.exports},6964:function(t,i,r){"use strict";var s=r("cb2d");t.exports=function(t,i,r){for(var a in i)s(t,a,i[a],r);return t}},"76d6":function(t,i,r){"use strict";r("d866")},"7d54":function(t,i,r){"use strict";var s=r("23e7"),a=r("2266"),e=r("59ed"),o=r("825a"),n=r("46c4");s({target:"Iterator",proto:!0,real:!0},{forEach:function(t){o(this),e(t);var i=n(this),r=0;a(i,(function(i){t(i,r++)}),{IS_RECORD:!0})}})},8004:function(t,i,r){"use strict";r.r(i);var s=function(){var t=this;t._self._c;return t._m(0)},a=[function(){var t=this,i=t._self._c;return i("div",{attrs:{id:"pinball"}},[i("p",[t._v("維護中")])])}],e=r("2877"),o={},n=Object(e["a"])(o,s,a,!1,null,null,null);i["default"]=n.exports},"8c89":function(t,i,r){"use strict";r("98a3")},"8cb2":function(t,i,r){"use strict";r.r(i);var s=function(){var t=this,i=t._self._c;return i("div",{staticClass:"pinball"})},a=[],e=r("2877"),o={},n=Object(e["a"])(o,s,a,!1,null,null,null);i["default"]=n.exports},"98a3":function(t,i,r){},"9bdd":function(t,i,r){"use strict";var s=r("825a"),a=r("2a62");t.exports=function(t,i,r,e){try{return e?i(s(r)[0],r[1]):i(r)}catch(o){a(t,"throw",o)}}},a573:function(t,i,r){"use strict";r("ab43")},ab43:function(t,i,r){"use strict";var s=r("23e7"),a=r("d024"),e=r("c430");s({target:"Iterator",proto:!0,real:!0,forced:e},{map:a})},b163:function(t,i,r){"use strict";r.r(i);var s=function(){var t=this;t._self._c;return t._m(0)},a=[function(){var t=this,i=t._self._c;return i("div",{attrs:{id:"chat"}},[i("p",[t._v("維護中")])])}],e={data(){return{}}},o=e,n=r("2877"),l=Object(n["a"])(o,s,a,!1,null,null,null);i["default"]=l.exports},c5cc:function(t,i,r){"use strict";var s=r("c65b"),a=r("7c73"),e=r("9112"),o=r("6964"),n=r("b622"),l=r("69f3"),c=r("dc4a"),h=r("ae93").IteratorPrototype,d=r("4754"),u=r("2a62"),p=n("toStringTag"),_="IteratorHelper",v="WrapForValidIterator",f=l.set,m=function(t){var i=l.getterFor(t?v:_);return o(a(h),{next:function(){var r=i(this);if(t)return r.nextHandler();try{var s=r.done?void 0:r.nextHandler();return d(s,r.done)}catch(a){throw r.done=!0,a}},return:function(){var r=i(this),a=r.iterator;if(r.done=!0,t){var e=c(a,"return");return e?s(e,a):d(void 0,!0)}if(r.inner)try{u(r.inner.iterator,"normal")}catch(o){return u(a,"throw",o)}return a&&u(a,"normal"),d(void 0,!0)}})},g=m(!0),y=m(!1);e(y,p,"Iterator Helper"),t.exports=function(t,i){var r=function(r,s){s?(s.iterator=r.iterator,s.next=r.next):s=r,s.type=i?v:_,s.nextHandler=t,s.counter=0,s.done=!1,f(this,s)};return r.prototype=i?g:y,r}},d024:function(t,i,r){"use strict";var s=r("c65b"),a=r("59ed"),e=r("825a"),o=r("46c4"),n=r("c5cc"),l=r("9bdd"),c=n((function(){var t=this.iterator,i=e(s(this.next,t)),r=this.done=!!i.done;if(!r)return l(t,this.mapper,[i.value,this.counter++],!0)}));t.exports=function(t){return e(this),a(t),new c(o(this),{mapper:t})}},d444:function(t,i,r){"use strict";r("0333")},d866:function(t,i,r){"use strict";var s=r("23e7"),a=r("2266"),e=r("59ed"),o=r("825a"),n=r("46c4");s({target:"Iterator",proto:!0,real:!0},{every:function(t){o(this),e(t);var i=n(this),r=0;return!a(i,(function(i,s){if(!t(i,r++))return s()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})}}]);
//# sourceMappingURL=about.0d050e73.js.map