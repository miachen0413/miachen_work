{"remainingRequest":"/Users/chenmeiya/Desktop/程式（未整理）/mia_side_project/miachen_work/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenmeiya/Desktop/程式（未整理）/mia_side_project/miachen_work/src/components/Stairs/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/chenmeiya/Desktop/程式（未整理）/mia_side_project/miachen_work/src/components/Stairs/index.vue","mtime":1734525089643},{"path":"/Users/chenmeiya/Desktop/程式（未整理）/mia_side_project/miachen_work/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenmeiya/Desktop/程式（未整理）/mia_side_project/miachen_work/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/chenmeiya/Desktop/程式（未整理）/mia_side_project/miachen_work/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenmeiya/Desktop/程式（未整理）/mia_side_project/miachen_work/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci8vIGltcG9ydCAqIGFzIFBJWEkgZnJvbSAicGl4aS5qcyI7CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CmltcG9ydCAqIGFzIFBJWElCYXNpYyBmcm9tICIuLi8uLi91bml0L3BpeGlCYXNpYyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYXBwOiBudWxsLAogICAgICBsb2FkZXI6IG5ldyB0aGlzLlBJWEkuTG9hZGVyKCksCiAgICAgIHJlc291cmNlczogbnVsbCwKICAgICAgc3RhaXJzX2NvbnRhaW5lcjogbnVsbCwKICAgICAgcm9hZF9jb250YWluZXI6IG51bGwsCiAgICAgIHN0YXJ0X2RvbGxfY29udGFpbmVyOiBudWxsLAogICAgICBncmV5X2ZpbHRlcjogbnVsbCwKICAgICAgcm9hZDogbnVsbCwKICAgICAgcm9hZFNldFVwOiAoKSA9PiB7fSwKICAgICAgYXBwX3dpZHRoOiA5MDAsCiAgICAgIGFwcF9oZWlnaHQ6IDYwMCwKICAgICAgYm91bmRhcnk6IHsKICAgICAgICBtaW5feDogMTAwLAogICAgICAgIG1pbl95OiA1MCwKICAgICAgICBtYXhfeDogODAwLAogICAgICAgIG1heF95OiA1NTAsCiAgICAgIH0sCiAgICAgIHN0YWlyc19zdHlsZTogeyB3aWR0aDogMTUsIGNvbG9yOiAweGI4Njc0MSwgYWxwaGE6IDEgfSwKICAgICAgcm9hZF9zdHlsZTogewogICAgICAgIHdpZHRoOiAyMCwKICAgICAgICBhbGlnbm1lbnQ6IDAuNSwKICAgICAgICBjb2xvcjogMHg0OGFmYTcsCiAgICAgICAgYWxwaGE6IDEsCiAgICAgICAgam9pbjogInJvdW5kIiwKICAgICAgICBtaXRlckxpbWl0OiAxMDAsCiAgICAgIH0sCiAgICAgIHJvYWRfcG9zaXRpb246IFtdLAogICAgICBzdHJhaWdodHM6IFtdLAogICAgICBzdHJhaWdodDogMywKICAgICAgc3RyYWlnaHRfcG9zaXRpb246IFtdLAogICAgICBob3Jpem9udGFsczogW10sCiAgICAgIGhvcml6b250YWw6IDgsCiAgICAgIGhvcml6b250YWxfcG9zaXRpb246IFtdLAogICAgICBzdGFydF9kb2xsX25hbWU6IFsiZWdnSGVhZCIsICJmbG93ZXJUb3AiLCAiaGVsbWxvayIsICJza3VsbHkiXSwKICAgICAgaXNfc3RhcnRfZG9sbF9jbGljazogZmFsc2UsCiAgICAgIHN0YXJ0X2RvbGxfc3ByaXRlOiBbXSwKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5pbml0KCk7CiAgfSwKICB3YXRjaDogewogICAgc3RyYWlnaHQ6IHsKICAgICAgaGFuZGxlcih2YWwpIHsKICAgICAgICB0aGlzLmhvcml6b250YWxzID0gW107CiAgICAgICAgZm9yIChsZXQgaSA9IHZhbCAtIDE7IGkgPD0gdmFsICsgMzsgaSsrKQogICAgICAgICAgdGhpcy5ob3Jpem9udGFscy5wdXNoKHsgdmFsdWU6IGksIG5hbWU6IGkgfSk7CiAgICAgICAgdGhpcy5ob3Jpem9udGFsID0gdGhpcy5ob3Jpem9udGFsc1syXS5uYW1lOwogICAgICB9LAogICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICB9LAogICAgaXNfc3RhcnRfZG9sbF9jbGljayhpc19jbGljaykgewogICAgICB0aGlzLnN0YXJ0X2RvbGxfc3ByaXRlLmZvckVhY2goKHNwcml0ZSkgPT4gewogICAgICAgIGxldCBmaWx0ZXJzID0gW107CiAgICAgICAgc3ByaXRlLmludGVyYWN0aXZlID0gaXNfY2xpY2s7CiAgICAgICAgaWYgKCFpc19jbGljaykgZmlsdGVycyA9IFt0aGlzLmdyZXlfZmlsdGVyXTsKICAgICAgICBzcHJpdGUuZmlsdGVycyA9IGZpbHRlcnM7CiAgICAgIH0pOwogICAgfSwKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZSh7IGltYWdlX3BhdGg6IChzdGF0ZSkgPT4gc3RhdGUuaW1hZ2VfcGF0aCB9KSwKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXQoKSB7CiAgICAgIHRoaXMuc3RyYWlnaHRzID0gW107CiAgICAgIGZvciAobGV0IGkgPSAzOyBpIDw9IDU7IGkrKykKICAgICAgICB0aGlzLnN0cmFpZ2h0cy5wdXNoKHsgdmFsdWU6IGAke2l9IOWIl2AsIG5hbWU6IGkgfSk7CiAgICAgIHRoaXMuYXBwID0gbmV3IHRoaXMuUElYSS5BcHBsaWNhdGlvbih7CiAgICAgICAgd2lkdGg6IHRoaXMuYXBwX3dpZHRoLAogICAgICAgIGhlaWdodDogdGhpcy5hcHBfaGVpZ2h0LAogICAgICAgIGJhY2tncm91bmRDb2xvcjogMHhmN2YyZWEsCiAgICAgIH0pOwogICAgICB0aGlzLmdyZXlfZmlsdGVyID0gbmV3IHRoaXMuUElYSS5maWx0ZXJzLkNvbG9yTWF0cml4RmlsdGVyKCk7CiAgICAgIHRoaXMuZ3JleV9maWx0ZXIuZ3JleXNjYWxlKDAuMik7CiAgICAgIHRoaXMuc3RhaXJzX2NvbnRhaW5lciA9IG5ldyB0aGlzLlBJWEkuQ29udGFpbmVyKCk7CiAgICAgIHRoaXMucm9hZF9jb250YWluZXIgPSBuZXcgdGhpcy5QSVhJLkNvbnRhaW5lcigpOwogICAgICB0aGlzLnN0YXJ0X2RvbGxfY29udGFpbmVyID0gbmV3IHRoaXMuUElYSS5Db250YWluZXIoKTsKICAgICAgdGhpcy5hcHAuc3RhZ2UuYWRkQ2hpbGQoCiAgICAgICAgdGhpcy5zdGFpcnNfY29udGFpbmVyLAogICAgICAgIHRoaXMucm9hZF9jb250YWluZXIsCiAgICAgICAgdGhpcy5zdGFydF9kb2xsX2NvbnRhaW5lcgogICAgICApOwogICAgICB0aGlzLiRyZWZzLnN0YWlyc0JveC5hcHBlbmRDaGlsZCh0aGlzLmFwcC52aWV3KTsKICAgICAgdGhpcy5yZXNvdXJjZXMgPSB0aGlzLmxvYWRlci5yZXNvdXJjZXM7CiAgICAgIHRoaXMubG9hZGVyCiAgICAgICAgLmFkZCgiZWdnSGVhZCIsIHRoaXMuaW1hZ2VfcGF0aCArICJhc3NldHMvZG9sbC9lZ2dIZWFkLnBuZyIpCiAgICAgICAgLmFkZCgiZmxvd2VyVG9wIiwgdGhpcy5pbWFnZV9wYXRoICsgImFzc2V0cy9kb2xsL2Zsb3dlclRvcC5wbmciKQogICAgICAgIC5hZGQoImhlbG1sb2siLCB0aGlzLmltYWdlX3BhdGggKyAiYXNzZXRzL2RvbGwvaGVsbWxvay5wbmciKQogICAgICAgIC5hZGQoInNrdWxseSIsIHRoaXMuaW1hZ2VfcGF0aCArICJhc3NldHMvZG9sbC9za3VsbHkucG5nIik7CiAgICAgIHRoaXMubG9hZGVyLmxvYWQoKCkgPT4gewogICAgICAgIHRoaXMuY3JlYXRlU3RhaXJzKCk7CiAgICAgIH0pOwogICAgfSwKICAgIGNyZWF0ZVN0YWlycygpIHsKICAgICAgdGhpcy5hcHAudGlja2VyLnJlbW92ZSh0aGlzLnJvYWRTZXRVcCk7CiAgICAgIHRoaXMuaG9yaXpvbnRhbF9wb3NpdGlvbiA9IFtdOwogICAgICB0aGlzLnN0YWlyc19jb250YWluZXIucmVtb3ZlQ2hpbGRyZW4oKTsKICAgICAgdGhpcy5yb2FkX2NvbnRhaW5lci5yZW1vdmVDaGlsZHJlbigpOwogICAgICB0aGlzLnN0YXJ0X2RvbGxfY29udGFpbmVyLnJlbW92ZUNoaWxkcmVuKCk7CiAgICAgIHRoaXMuc3RhcnRfZG9sbF9zcHJpdGUuZm9yRWFjaCgoc3ByaXRlKSA9PiBzcHJpdGUuZGVzdHJveWVkKTsKICAgICAgdGhpcy5zdGFydF9kb2xsX3Nwcml0ZSA9IFtdOwogICAgICBjb25zdCB7IG1pbl94LCBtaW5feSwgbWF4X3kgfSA9IHRoaXMuYm91bmRhcnk7CiAgICAgIGNvbnN0IGRpc3RhbmNlX3ggPSBNYXRoLmNlaWwoCiAgICAgICAgKHRoaXMuYXBwX3dpZHRoIC0gMiAqIG1pbl94KSAvICh0aGlzLnN0cmFpZ2h0IC0gMSkKICAgICAgKTsKICAgICAgdGhpcy5zdHJhaWdodF9wb3NpdGlvbiA9IFtdOwogICAgICBsZXQgaG9yaXpvbnRhbF9zdGFydCA9IFtdOwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3RyYWlnaHQ7IGkrKykgewogICAgICAgIGNvbnN0IHggPSBtaW5feCArIGRpc3RhbmNlX3ggKiBpOwogICAgICAgIHRoaXMuaW5pdFN0YXJ0U3ByaXRlKGksIHgpOwogICAgICAgIHRoaXMuc3RyYWlnaHRfcG9zaXRpb24ucHVzaCh7IHgsIHk6IG1pbl95IH0pOwogICAgICAgIGNvbnN0IHN0cmFpZ2h0ID0gbmV3IHRoaXMuUElYSS5HcmFwaGljcygpOwogICAgICAgIHN0cmFpZ2h0LmxpbmVTdHlsZSh0aGlzLnN0YWlyc19zdHlsZSk7CiAgICAgICAgc3RyYWlnaHQubW92ZVRvKHgsIG1pbl95KTsKICAgICAgICBzdHJhaWdodC5saW5lVG8oeCwgbWF4X3kpOwogICAgICAgIHRoaXMuc3RhaXJzX2NvbnRhaW5lci5hZGRDaGlsZChzdHJhaWdodCk7CiAgICAgIH0KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmhvcml6b250YWw7IGkrKykgewogICAgICAgIC8vIGNvbnN0IGxldmVsID0gaSAlICh0aGlzLnN0cmFpZ2h0IC0gMSksCiAgICAgICAgLy8gICBhc3NpZ24gPSAodGhpcy5hcHBfaGVpZ2h0IC0gMjAwKSAvICh0aGlzLnN0cmFpZ2h0IC0gMSk7CiAgICAgICAgY29uc3QgcmFuZG9tX3ggPQogICAgICAgICAgaSA8IHRoaXMuc3RyYWlnaHQgLSAxCiAgICAgICAgICAgID8gaQogICAgICAgICAgICA6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh0aGlzLnN0cmFpZ2h0IC0gMSkpOwogICAgICAgIGNvbnN0IHggPSB0aGlzLnN0cmFpZ2h0X3Bvc2l0aW9uW3JhbmRvbV94XS54OwogICAgICAgIGNvbnN0IGxhc3RfcG9pbnRfeCA9CiAgICAgICAgICAgIHJhbmRvbV94ID4gMAogICAgICAgICAgICAgID8gdGhpcy5zdHJhaWdodF9wb3NpdGlvbltyYW5kb21feCAtIDFdLnggfHwgbnVsbAogICAgICAgICAgICAgIDogbnVsbCwKICAgICAgICAgIG5leHRfcG9pbnRfeCA9IHRoaXMuc3RyYWlnaHRfcG9zaXRpb25bcmFuZG9tX3ggKyAxXS54IHx8IG51bGw7CiAgICAgICAgbGV0IHJhbmRvbV95OwoKICAgICAgICBjb25zdCBnZXRSYW5kb21ZID0gKCkgPT4gewogICAgICAgICAgcmFuZG9tX3kgPSBNYXRoLmNlaWwobWluX3kgKyA1MCArIE1hdGgucmFuZG9tKCkgKiA0MDApOwogICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBob3Jpem9udGFsX3N0YXJ0Lmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgIGNvbnN0IHsgeDogcG9pbnRfeCwgeTogcG9pbnRfeSB9ID0gaG9yaXpvbnRhbF9zdGFydFtqXTsKICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgIFt4LCBsYXN0X3BvaW50X3gsIG5leHRfcG9pbnRfeF0uaW5jbHVkZXMocG9pbnRfeCkgJiYKICAgICAgICAgICAgICByYW5kb21feSA+PSBwb2ludF95IC0gNTAgJiYKICAgICAgICAgICAgICByYW5kb21feSA8PSBwb2ludF95ICsgNTAKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgZ2V0UmFuZG9tWSgpOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBnZXRSYW5kb21ZKCk7CgogICAgICAgIGNvbnN0IHN0YXJ0X3BvaW50ID0geyB4LCB5OiByYW5kb21feSB9OwogICAgICAgIGNvbnN0IGhvcml6b250YWwgPSBuZXcgdGhpcy5QSVhJLkdyYXBoaWNzKCk7CiAgICAgICAgaG9yaXpvbnRhbC5saW5lU3R5bGUodGhpcy5zdGFpcnNfc3R5bGUpOwogICAgICAgIGhvcml6b250YWwubW92ZVRvKHN0YXJ0X3BvaW50LngsIHN0YXJ0X3BvaW50LnkpOwogICAgICAgIGhvcml6b250YWwubGluZVRvKGRpc3RhbmNlX3ggKyBzdGFydF9wb2ludC54LCBzdGFydF9wb2ludC55KTsKICAgICAgICBob3Jpem9udGFsX3N0YXJ0LnB1c2goeyB4OiBzdGFydF9wb2ludC54LCB5OiBzdGFydF9wb2ludC55IH0pOwogICAgICAgIHRoaXMuc3RhaXJzX2NvbnRhaW5lci5hZGRDaGlsZChob3Jpem9udGFsKTsKICAgICAgfQogICAgICB0aGlzLmhvcml6b250YWxfcG9zaXRpb24gPSBob3Jpem9udGFsX3N0YXJ0LnNvcnQoKGEsIGIpID0+IGEueSAtIGIueSk7CiAgICAgIHRoaXMuaXNfc3RhcnRfZG9sbF9jbGljayA9IHRydWU7CiAgICAgIC8vIHRoaXMuZ2V0Um9hZFBvc2l0aW9uKCk7CiAgICB9LAogICAgaW5pdFN0YXJ0U3ByaXRlKHdoaXRjaF9yb2FkLCB4KSB7CiAgICAgIGNvbnN0IHN0YXJ0X2RvbGwgPSB0aGlzLnN0YXJ0X2RvbGxfbmFtZVt3aGl0Y2hfcm9hZCAlIDRdOwogICAgICBjb25zdCBzcHJpdGUgPSBQSVhJQmFzaWMuZ2V0UElYSVNwcml0ZSgKICAgICAgICB0aGlzLnJlc291cmNlc1tzdGFydF9kb2xsXS50ZXh0dXJlLAogICAgICAgIHgsCiAgICAgICAgMAogICAgICApOwogICAgICBzcHJpdGUuYW5jaG9yLnNldCgwLjUsIDApOwogICAgICBzcHJpdGUuc2NhbGUuc2V0KDAuNCwgMC40KTsKICAgICAgc3ByaXRlLmN1cnNvciA9ICJwb2ludGVyIjsKICAgICAgc3ByaXRlLm9uKCJwb2ludGVyZG93biIsIG9uQ2xpY2spOwogICAgICBjb25zdCBfdGhpcyA9IHRoaXM7CiAgICAgIGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgX3RoaXMuZ2V0Um9hZFBvc2l0aW9uKHdoaXRjaF9yb2FkKTsKICAgICAgfQogICAgICB0aGlzLnN0YXJ0X2RvbGxfc3ByaXRlLnB1c2goc3ByaXRlKTsKICAgICAgc3ByaXRlLmludGVyYWN0aXZlID0gdHJ1ZTsKICAgICAgdGhpcy5zdGFydF9kb2xsX2NvbnRhaW5lci5hZGRDaGlsZChzcHJpdGUpOwogICAgfSwKICAgIGdldFJvYWRQb3NpdGlvbihyb2FkKSB7CiAgICAgIC8vIGlmICh0aGlzLnJvYWQgIT09IG51bGwpIHRoaXMucm9hZC5jbGVhcigpOwogICAgICB0aGlzLmlzX3N0YXJ0X2RvbGxfY2xpY2sgPSBmYWxzZTsKICAgICAgdGhpcy5yb2FkX2NvbnRhaW5lci5yZW1vdmVDaGlsZHJlbigpOwogICAgICBsZXQgc3RhcnRfcm9hZCA9IHJvYWQ7CiAgICAgIHRoaXMucm9hZF9wb3NpdGlvbiA9IFtdOwogICAgICBsZXQgeyB4OiBub3dfeCwgeTogbm93X3kgfSA9IHRoaXMuc3RyYWlnaHRfcG9zaXRpb25bc3RhcnRfcm9hZF07CiAgICAgIHRoaXMucm9hZF9wb3NpdGlvbi5wdXNoKHsgeDogbm93X3gsIHk6IG5vd195IH0pOwogICAgICB0aGlzLmhvcml6b250YWxfcG9zaXRpb24uZm9yRWFjaCgoeyB4OiBwb3NfeCwgeTogcG9zX3kgfSkgPT4gewogICAgICAgIGNvbnN0IGxhc3RfeCA9CiAgICAgICAgICBzdGFydF9yb2FkID09PSAwID8gbnVsbCA6IHRoaXMuc3RyYWlnaHRfcG9zaXRpb25bc3RhcnRfcm9hZCAtIDFdLng7CiAgICAgICAgaWYgKHBvc195ID4gbm93X3kgJiYgW2xhc3RfeCwgbm93X3hdLmluY2x1ZGVzKHBvc194KSkgewogICAgICAgICAgLy8gbGV0IG5leHRfeDsKICAgICAgICAgIHRoaXMucm9hZF9wb3NpdGlvbi5wdXNoKHsgeDogbm93X3gsIHk6IHBvc195IH0pOwogICAgICAgICAgaWYgKHBvc194ID09PSBub3dfeCkgc3RhcnRfcm9hZCArPSAxOwogICAgICAgICAgZWxzZSBpZiAocG9zX3ggPT09IGxhc3RfeCkgc3RhcnRfcm9hZCAtPSAxOwogICAgICAgICAgdGhpcy5yb2FkX3Bvc2l0aW9uLnB1c2goewogICAgICAgICAgICB4OiB0aGlzLnN0cmFpZ2h0X3Bvc2l0aW9uW3N0YXJ0X3JvYWRdLngsCiAgICAgICAgICAgIHk6IHBvc195LAogICAgICAgICAgfSk7CiAgICAgICAgICBub3dfeCA9IHRoaXMuc3RyYWlnaHRfcG9zaXRpb25bc3RhcnRfcm9hZF0ueDsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLnJvYWRfcG9zaXRpb24ucHVzaCh7IHg6IG5vd194LCB5OiB0aGlzLmJvdW5kYXJ5Lm1heF95IH0pOwoKICAgICAgdGhpcy5kcmF3Um9hZCgpOwogICAgfSwKICAgIGRyYXdSb2FkKCkgewogICAgICAvLyBjb25zdCBzdGFydF9yb2FkID0gMDsKICAgICAgdGhpcy5yb2FkID0gbmV3IHRoaXMuUElYSS5HcmFwaGljcygpOwogICAgICB0aGlzLnJvYWQubGluZVN0eWxlKHRoaXMucm9hZF9zdHlsZSk7CiAgICAgIGxldCBjb3VudCA9IDAsCiAgICAgICAgbm93X3ggPSB0aGlzLnJvYWRfcG9zaXRpb25bY291bnRdLngsCiAgICAgICAgbm93X3kgPSB0aGlzLnJvYWRfcG9zaXRpb25bY291bnRdLnksCiAgICAgICAgbmV4dF94ID0gbm93X3gsCiAgICAgICAgbmV4dF95ID0gbm93X3k7CiAgICAgIHRoaXMucm9hZFNldFVwID0gKGRlbHRhKSA9PiB7CiAgICAgICAgY29uc3Qgc3BlZWQgPSAxMCAqIGRlbHRhOwogICAgICAgIGNvbnN0IGxhc3RfeF9wb2ludCA9IG5vd194OwogICAgICAgIHRoaXMucm9hZC5tb3ZlVG8obm93X3gsIG5vd195KTsKICAgICAgICBpZiAoCiAgICAgICAgICBuZXh0X3ggPT09IHRoaXMucm9hZF9wb3NpdGlvbltjb3VudF0ueCAmJgogICAgICAgICAgbmV4dF95ID09PSB0aGlzLnJvYWRfcG9zaXRpb25bY291bnRdLnkKICAgICAgICApIHsKICAgICAgICAgIG5vd194ID0gdGhpcy5yb2FkX3Bvc2l0aW9uW2NvdW50XS54OwogICAgICAgICAgbm93X3kgPSB0aGlzLnJvYWRfcG9zaXRpb25bY291bnRdLnk7CiAgICAgICAgICBjb3VudCsrOwogICAgICAgIH0KICAgICAgICBpZiAoY291bnQgPj0gdGhpcy5yb2FkX3Bvc2l0aW9uLmxlbmd0aCkgewogICAgICAgICAgdGhpcy5hcHAudGlja2VyLnJlbW92ZSh0aGlzLnJvYWRTZXRVcCk7CiAgICAgICAgICB0aGlzLmlzX3N0YXJ0X2RvbGxfY2xpY2sgPSB0cnVlOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBjb25zdCB7IHgsIHkgfSA9IHRoaXMucm9hZF9wb3NpdGlvbltjb3VudF07CiAgICAgICAgdGhpcy5yb2FkLmxpbmVUbyhuZXh0X3gsIG5leHRfeSk7CiAgICAgICAgaWYgKGxhc3RfeF9wb2ludCA8IHgpIHsKICAgICAgICAgIG5leHRfeCArPSBzcGVlZDsKICAgICAgICAgIGlmIChuZXh0X3ggPiB4KSB7CiAgICAgICAgICAgIG5leHRfeCA9IHg7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChsYXN0X3hfcG9pbnQgPiB4KSB7CiAgICAgICAgICBuZXh0X3ggLT0gc3BlZWQ7CiAgICAgICAgICBpZiAobmV4dF94IDwgeCkgewogICAgICAgICAgICBuZXh0X3ggPSB4OwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAobGFzdF94X3BvaW50ID09PSB4ICYmIG5leHRfeSA9PT0geSkgewogICAgICAgICAgbmV4dF94ID0geDsKICAgICAgICB9CiAgICAgICAgaWYgKG5leHRfeSArIHNwZWVkID49IHkpIHsKICAgICAgICAgIG5leHRfeSA9IHk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG5leHRfeSArPSBzcGVlZDsKICAgICAgICB9CiAgICAgICAgdGhpcy5yb2FkLmxpbmVUbyhuZXh0X3gsIG5leHRfeSk7CiAgICAgIH07CiAgICAgIHRoaXMuYXBwLnRpY2tlci5hZGQodGhpcy5yb2FkU2V0VXApOwogICAgICB0aGlzLnJvYWQuZW5kRmlsbCgpOwogICAgICB0aGlzLnJvYWRfY29udGFpbmVyLmFkZENoaWxkKHRoaXMucm9hZCk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AA2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/Stairs","sourcesContent":["<template lang=\"pug\">\n#stairs\n  .setting\n    .set-box.col-2\n      span 幾條路：\n      select(v-model=\"straight\")\n        option(v-for=\"item in straights\", :key=\"item.name\", :value=\"item.name\") {{ item.value }}\n    .set-box.col-2\n      span 幾個橫軸：\n      select(v-model=\"horizontal\")\n        option(\n          v-for=\"item in horizontals\",\n          :key=\"item.name\",\n          :value=\"item.name\"\n        ) {{ item.value }}\n    button(type=\"submit\", @click=\"createStairs\") 生成梯子\n  br\n  //- .btn-box\n  //-   button.btn(\n  //-     type=\"submit\",\n  //-     v-for=\"(item, idx) in straight\",\n  //-     :key=\"item.idx\",\n  //-     @click=\"getRoadPosition(item - 1)\"\n  //-   ) 第 {{ item }} 條路\n  .stairs-box(ref=\"stairsBox\")\n</template>\n<script>\n// import * as PIXI from \"pixi.js\";\nimport { mapState } from \"vuex\";\nimport * as PIXIBasic from \"../../unit/pixiBasic\";\nexport default {\n  data() {\n    return {\n      app: null,\n      loader: new this.PIXI.Loader(),\n      resources: null,\n      stairs_container: null,\n      road_container: null,\n      start_doll_container: null,\n      grey_filter: null,\n      road: null,\n      roadSetUp: () => {},\n      app_width: 900,\n      app_height: 600,\n      boundary: {\n        min_x: 100,\n        min_y: 50,\n        max_x: 800,\n        max_y: 550,\n      },\n      stairs_style: { width: 15, color: 0xb86741, alpha: 1 },\n      road_style: {\n        width: 20,\n        alignment: 0.5,\n        color: 0x48afa7,\n        alpha: 1,\n        join: \"round\",\n        miterLimit: 100,\n      },\n      road_position: [],\n      straights: [],\n      straight: 3,\n      straight_position: [],\n      horizontals: [],\n      horizontal: 8,\n      horizontal_position: [],\n      start_doll_name: [\"eggHead\", \"flowerTop\", \"helmlok\", \"skully\"],\n      is_start_doll_click: false,\n      start_doll_sprite: [],\n    };\n  },\n  mounted() {\n    this.init();\n  },\n  watch: {\n    straight: {\n      handler(val) {\n        this.horizontals = [];\n        for (let i = val - 1; i <= val + 3; i++)\n          this.horizontals.push({ value: i, name: i });\n        this.horizontal = this.horizontals[2].name;\n      },\n      immediate: true,\n    },\n    is_start_doll_click(is_click) {\n      this.start_doll_sprite.forEach((sprite) => {\n        let filters = [];\n        sprite.interactive = is_click;\n        if (!is_click) filters = [this.grey_filter];\n        sprite.filters = filters;\n      });\n    },\n  },\n  computed: {\n    ...mapState({ image_path: (state) => state.image_path }),\n  },\n  methods: {\n    init() {\n      this.straights = [];\n      for (let i = 3; i <= 5; i++)\n        this.straights.push({ value: `${i} 列`, name: i });\n      this.app = new this.PIXI.Application({\n        width: this.app_width,\n        height: this.app_height,\n        backgroundColor: 0xf7f2ea,\n      });\n      this.grey_filter = new this.PIXI.filters.ColorMatrixFilter();\n      this.grey_filter.greyscale(0.2);\n      this.stairs_container = new this.PIXI.Container();\n      this.road_container = new this.PIXI.Container();\n      this.start_doll_container = new this.PIXI.Container();\n      this.app.stage.addChild(\n        this.stairs_container,\n        this.road_container,\n        this.start_doll_container\n      );\n      this.$refs.stairsBox.appendChild(this.app.view);\n      this.resources = this.loader.resources;\n      this.loader\n        .add(\"eggHead\", this.image_path + \"assets/doll/eggHead.png\")\n        .add(\"flowerTop\", this.image_path + \"assets/doll/flowerTop.png\")\n        .add(\"helmlok\", this.image_path + \"assets/doll/helmlok.png\")\n        .add(\"skully\", this.image_path + \"assets/doll/skully.png\");\n      this.loader.load(() => {\n        this.createStairs();\n      });\n    },\n    createStairs() {\n      this.app.ticker.remove(this.roadSetUp);\n      this.horizontal_position = [];\n      this.stairs_container.removeChildren();\n      this.road_container.removeChildren();\n      this.start_doll_container.removeChildren();\n      this.start_doll_sprite.forEach((sprite) => sprite.destroyed);\n      this.start_doll_sprite = [];\n      const { min_x, min_y, max_y } = this.boundary;\n      const distance_x = Math.ceil(\n        (this.app_width - 2 * min_x) / (this.straight - 1)\n      );\n      this.straight_position = [];\n      let horizontal_start = [];\n      for (let i = 0; i < this.straight; i++) {\n        const x = min_x + distance_x * i;\n        this.initStartSprite(i, x);\n        this.straight_position.push({ x, y: min_y });\n        const straight = new this.PIXI.Graphics();\n        straight.lineStyle(this.stairs_style);\n        straight.moveTo(x, min_y);\n        straight.lineTo(x, max_y);\n        this.stairs_container.addChild(straight);\n      }\n      for (let i = 0; i < this.horizontal; i++) {\n        // const level = i % (this.straight - 1),\n        //   assign = (this.app_height - 200) / (this.straight - 1);\n        const random_x =\n          i < this.straight - 1\n            ? i\n            : Math.floor(Math.random() * (this.straight - 1));\n        const x = this.straight_position[random_x].x;\n        const last_point_x =\n            random_x > 0\n              ? this.straight_position[random_x - 1].x || null\n              : null,\n          next_point_x = this.straight_position[random_x + 1].x || null;\n        let random_y;\n\n        const getRandomY = () => {\n          random_y = Math.ceil(min_y + 50 + Math.random() * 400);\n          for (let j = 0; j < horizontal_start.length; j++) {\n            const { x: point_x, y: point_y } = horizontal_start[j];\n            if (\n              [x, last_point_x, next_point_x].includes(point_x) &&\n              random_y >= point_y - 50 &&\n              random_y <= point_y + 50\n            ) {\n              getRandomY();\n              break;\n            }\n          }\n        };\n        getRandomY();\n\n        const start_point = { x, y: random_y };\n        const horizontal = new this.PIXI.Graphics();\n        horizontal.lineStyle(this.stairs_style);\n        horizontal.moveTo(start_point.x, start_point.y);\n        horizontal.lineTo(distance_x + start_point.x, start_point.y);\n        horizontal_start.push({ x: start_point.x, y: start_point.y });\n        this.stairs_container.addChild(horizontal);\n      }\n      this.horizontal_position = horizontal_start.sort((a, b) => a.y - b.y);\n      this.is_start_doll_click = true;\n      // this.getRoadPosition();\n    },\n    initStartSprite(whitch_road, x) {\n      const start_doll = this.start_doll_name[whitch_road % 4];\n      const sprite = PIXIBasic.getPIXISprite(\n        this.resources[start_doll].texture,\n        x,\n        0\n      );\n      sprite.anchor.set(0.5, 0);\n      sprite.scale.set(0.4, 0.4);\n      sprite.cursor = \"pointer\";\n      sprite.on(\"pointerdown\", onClick);\n      const _this = this;\n      function onClick() {\n        _this.getRoadPosition(whitch_road);\n      }\n      this.start_doll_sprite.push(sprite);\n      sprite.interactive = true;\n      this.start_doll_container.addChild(sprite);\n    },\n    getRoadPosition(road) {\n      // if (this.road !== null) this.road.clear();\n      this.is_start_doll_click = false;\n      this.road_container.removeChildren();\n      let start_road = road;\n      this.road_position = [];\n      let { x: now_x, y: now_y } = this.straight_position[start_road];\n      this.road_position.push({ x: now_x, y: now_y });\n      this.horizontal_position.forEach(({ x: pos_x, y: pos_y }) => {\n        const last_x =\n          start_road === 0 ? null : this.straight_position[start_road - 1].x;\n        if (pos_y > now_y && [last_x, now_x].includes(pos_x)) {\n          // let next_x;\n          this.road_position.push({ x: now_x, y: pos_y });\n          if (pos_x === now_x) start_road += 1;\n          else if (pos_x === last_x) start_road -= 1;\n          this.road_position.push({\n            x: this.straight_position[start_road].x,\n            y: pos_y,\n          });\n          now_x = this.straight_position[start_road].x;\n        }\n      });\n      this.road_position.push({ x: now_x, y: this.boundary.max_y });\n\n      this.drawRoad();\n    },\n    drawRoad() {\n      // const start_road = 0;\n      this.road = new this.PIXI.Graphics();\n      this.road.lineStyle(this.road_style);\n      let count = 0,\n        now_x = this.road_position[count].x,\n        now_y = this.road_position[count].y,\n        next_x = now_x,\n        next_y = now_y;\n      this.roadSetUp = (delta) => {\n        const speed = 10 * delta;\n        const last_x_point = now_x;\n        this.road.moveTo(now_x, now_y);\n        if (\n          next_x === this.road_position[count].x &&\n          next_y === this.road_position[count].y\n        ) {\n          now_x = this.road_position[count].x;\n          now_y = this.road_position[count].y;\n          count++;\n        }\n        if (count >= this.road_position.length) {\n          this.app.ticker.remove(this.roadSetUp);\n          this.is_start_doll_click = true;\n          return;\n        }\n        const { x, y } = this.road_position[count];\n        this.road.lineTo(next_x, next_y);\n        if (last_x_point < x) {\n          next_x += speed;\n          if (next_x > x) {\n            next_x = x;\n          }\n        } else if (last_x_point > x) {\n          next_x -= speed;\n          if (next_x < x) {\n            next_x = x;\n          }\n        } else if (last_x_point === x && next_y === y) {\n          next_x = x;\n        }\n        if (next_y + speed >= y) {\n          next_y = y;\n        } else {\n          next_y += speed;\n        }\n        this.road.lineTo(next_x, next_y);\n      };\n      this.app.ticker.add(this.roadSetUp);\n      this.road.endFill();\n      this.road_container.addChild(this.road);\n    },\n  },\n};\n</script>\n<style lang=\"sass\" scoped>\n#stairs\n  width: 100%\n  height: 100%\n  .setting\n    display: flex\n  .set-box\n    width: 30%\n  .stairs-box\n    // width: 100%\n    max-width: 900px\n</style>"]}]}